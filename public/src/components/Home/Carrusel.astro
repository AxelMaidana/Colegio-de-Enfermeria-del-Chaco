---
const { items } = Astro.props;  
---  

<div class="relative overflow-hidden">  
  <div class="flex space-x-4 overflow-x-auto whitespace-nowrap" id="carrusel">  
    {items.map((item) => (  
      <article class="bg-customBlue shadow-md p-1 rounded-2xl max-w-xs mx-2 flex-shrink-0 transform-gpu scale-75 md:scale-100 transition-transform duration-300 ease-in-out">  
        <div class="relative">  
          <img src={item.image} alt={item.title} class="w-full h-48 object-cover rounded-t-xl border-2 border-customBlue" />  
          {/* Ajustar la posici√≥n de la fecha para que sobresalga */}  
          <div class="absolute top-[-20px] left-1/2 transform -translate-x-1/2 bg-customBlue text-white text-sm px-4 py-1 rounded-full">  
            {item.date}  
          </div>  
        </div>  
        <h4 class="text-lg font-semibold mt-2 text-center text-white">{item.title}</h4>  
        <p class="text-center text-white opacity-80">{item.description}</p>  
      </article>  
    ))}  
  </div>  
  <button class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-1 rounded-r" id="prevBtn">  
    Prev  
  </button>  
  <button class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-1 rounded-l" id="nextBtn">  
    Next  
  </button>  
</div>  

<script>  
  document.addEventListener('DOMContentLoaded', () => {  
    const container = document.getElementById('carrusel');  
    const prevBtn = document.getElementById('prevBtn');  
    const nextBtn = document.getElementById('nextBtn');  

    if (!container || !prevBtn || !nextBtn) return;  

    const items = Array.from(container.children);  
    if (items.length === 0) return;  

    const itemWidth = items[0].getBoundingClientRect().width + parseFloat(window.getComputedStyle(items[0]).marginRight);  
    let scrollAmount = 0;  

    nextBtn.addEventListener('click', () => {  
      const maxScrollLeft = container.scrollWidth - container.clientWidth;  
      if (scrollAmount < maxScrollLeft) {  
        container.scrollBy({ left: itemWidth, behavior: 'smooth' });  
        scrollAmount += itemWidth;  
      }  
    });  

    prevBtn.addEventListener('click', () => {  
      if (scrollAmount > 0) {  
        container.scrollBy({ left: -itemWidth, behavior: 'smooth' });  
        scrollAmount -= itemWidth;  
      }  
    });  
  });  
</script>